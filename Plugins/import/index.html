<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Plugins/import">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.1">
<title data-rh="true">Import | Gephi Documentation Center</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://documentation.gephi.org/gephi-documentation/Plugins/import"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Import | Gephi Documentation Center"><meta data-rh="true" name="description" content="This HowTo shows, in about 15 minutes how to create a new importer in Gephi. Importers push data from files, databases or external datasources to a Container. The role of the container is to host all data collected by importers (i.e. nodes, edges and attributes). This HowTo is focused on file importers, but the procedure is slightly similar for databases or spigots."><meta data-rh="true" property="og:description" content="This HowTo shows, in about 15 minutes how to create a new importer in Gephi. Importers push data from files, databases or external datasources to a Container. The role of the container is to host all data collected by importers (i.e. nodes, edges and attributes). This HowTo is focused on file importers, but the procedure is slightly similar for databases or spigots."><link data-rh="true" rel="icon" href="/gephi-documentation/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://documentation.gephi.org/gephi-documentation/Plugins/import"><link data-rh="true" rel="alternate" href="https://documentation.gephi.org/gephi-documentation/Plugins/import" hreflang="en"><link data-rh="true" rel="alternate" href="https://documentation.gephi.org/gephi-documentation/Plugins/import" hreflang="x-default"><link rel="stylesheet" href="/gephi-documentation/assets/css/styles.f80bfffe.css">
<link rel="preload" href="/gephi-documentation/assets/js/runtime~main.aab9cabc.js" as="script">
<link rel="preload" href="/gephi-documentation/assets/js/main.b8e38b07.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/gephi-documentation/"><div class="navbar__logo"><img src="/gephi-documentation/img/logo.svg" alt="Gephi logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/gephi-documentation/img/logo.svg" alt="Gephi logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Gephi Documentation</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/gephi-documentation/Intro">Developper Documentation</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/gephi/gephi" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/gephi-documentation/Intro">Gephi Developper Documentation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/gephi-documentation/category/manuals">Manuals</a><button aria-label="Toggle the collapsible sidebar category &#x27;Manuals&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/gephi-documentation/category/community">Community</a><button aria-label="Toggle the collapsible sidebar category &#x27;Community&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/gephi-documentation/category/plugin">Plugin</a><button aria-label="Toggle the collapsible sidebar category &#x27;Plugin&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/gephi-documentation/Plugins/add-a-module-panel">Add a module panel</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/gephi-documentation/Plugins/add-a-submenu">Add a submenu</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/gephi-documentation/Plugins/build-a-plugin-without-gephi-source-code">Build a plugin without Gephi source code</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/gephi-documentation/Plugins/code-sharing-strategy">Code Sharing Strategy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/gephi-documentation/Plugins/démarrage-rapide-(fr)">Démarrage rapide (FR)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/gephi-documentation/Plugins/export">Export</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/gephi-documentation/Plugins/extend-data-laboratory">Extend Data Laboratory</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/gephi-documentation/Plugins/filter">Filter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/gephi-documentation/Plugins/generator">Generator</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/gephi-documentation/Plugins/graphstreaming">GraphStreaming</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/gephi-documentation/Plugins/import">Import</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/gephi-documentation/Plugins/layout">Layout</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/gephi-documentation/Plugins/plugin-quick-start">Plugin Quick Start</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/gephi-documentation/Plugins/preview-renderer">Preview renderer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/gephi-documentation/Plugins/spatialisations-(fr)">Spatialisations (FR)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/gephi-documentation/Plugins/spigot-importer-with-wizard">Spigot importer with Wizard</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/gephi-documentation/Plugins/statistics">Statistics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/gephi-documentation/Plugins/update-a-plugin">Update a plugin</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/gephi-documentation/category/research">Research</a><button aria-label="Toggle the collapsible sidebar category &#x27;Research&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/gephi-documentation/category/software">Software</a><button aria-label="Toggle the collapsible sidebar category &#x27;Software&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/gephi-documentation/category/toolkit">Toolkit</a><button aria-label="Toggle the collapsible sidebar category &#x27;Toolkit&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/gephi-documentation/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/gephi-documentation/category/plugin"><span itemprop="name">Plugin</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Import</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Import</h1></header><p>This HowTo shows, in about 15 minutes how to create a new importer in Gephi. Importers push data from files, databases or external datasources to a <code>Container</code>. The role of the container is to host all data collected by importers (i.e. nodes, edges and attributes). This HowTo is focused on file importers, but the procedure is slightly similar for databases or spigots.</p><p>Please look at [<!-- -->[Plugin Quick Start]<!-- -->] to know how to create a new Netbeans Module. When you have your plugin module, that we will call <em>MyImporter</em>, you can start this tutorial.</p><p>One can find file importer examples in the Gephi <a href="https://github.com/gephi/gephi/tree/master/modules/ImportPlugin/src/main" target="_blank" rel="noopener noreferrer">source code</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-new-importer">Create a new Importer<a class="hash-link" href="#create-a-new-importer" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="set-dependencies">Set Dependencies<a class="hash-link" href="#set-dependencies" title="Direct link to heading">​</a></h3><p>Add <code>ImportAPI</code>, <code>LongTaskAPI</code>, <code>FileSystemAPI</code>, <code>UtilitiesAPI</code> and Lookup modules as dependencies for your plugin module <em>MyImport</em>. See [<!-- -->[How To Set Module Dependencies]<!-- -->].</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-fileimporterbuilder">Create FileImporterBuilder<a class="hash-link" href="#create-fileimporterbuilder" title="Direct link to heading">​</a></h3><ul><li><code>ImporterBuilder</code> is a factory class for building the important instance, all Importers should have their own builder.</li><li>Create a new builder class, for instance <em>MyImporterBuilder</em> that implements <code>FileImporterBuilder</code>.</li><li>Fill the <code>getFileTypes()</code> and <code>getName()</code> methods like below, for a single file format supported named <em>foo</em>.</li></ul><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public String getName() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   return &quot;foo&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public FileType[] getFileTypes() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   return new FileType[]{new FileType(&quot;.foo&quot;, &quot;Foo files&quot;)};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Add <code>@ServiceProvider</code> annotation to your builder class. Add the following line before <em>MyImporterBuilder</em> class definition, as shown below:</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@ServiceProvider(service = FileImporterBuilder.class)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class MyImporterBuilder implements FileImporterBuilder {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-fileimporter">Create FileImporter<a class="hash-link" href="#create-fileimporter" title="Direct link to heading">​</a></h3><p>The importer is where the job will be done. Create a new importer class, for instance <em>MyImporter</em> that implements <code>FileImporter</code>.</p><p>Notice the <code>setReader()</code> method. That means you will work with a reader instead directly with files. The system is responsible of setting the reader before the importer you&#x27;re developing will be executed.</p><p>Add also <code>LongTask</code> interface to your class, in order you will be able to use progress and cancel management.
Your <em>MyImporter</em> would look like this:</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class MyImporter implements FileImporter, LongTask {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   private Reader reader;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   private ContainerLoader container;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   private Report report;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   private ProgressTicket progressTicket;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   private boolean cancel = false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   public void setReader(Reader reader) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      this.reader = reader;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   public boolean execute(ContainerLoader loader) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      this.container = loader;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      this.report = new Report();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      //Import</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      return !cancel;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   public ContainerLoader getContainer() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      return container;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   public Report getReport() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      return report;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   public boolean cancel() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      cancel = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      return true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   public void setProgressTicket(ProgressTicket progressTicket) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      this.progressTicket = progressTicket;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The infrastructure is set, the container for pushing data, the report for pushing logs and errors, and the progress management.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="finish-the-builder">Finish the builder<a class="hash-link" href="#finish-the-builder" title="Direct link to heading">​</a></h3><p>Go back to the <em>MyImporterBuilder</em> and complete <code>buildImporter()</code> and <code>isMatchingImporter()</code> methods:</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public FileImporter buildImporter() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   return new MyImporter();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public boolean isMatchingImporter(FileObject fileObject) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   return fileObject.getExt().equalsIgnoreCase(&quot;foo&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="with-settings-ui">With settings UI<a class="hash-link" href="#with-settings-ui" title="Direct link to heading">​</a></h2><p>You can create an <code>ImporterUI</code> class for your importer. It is not mandatory and the importer will work normally with default settings.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-myimporterui">Create MyImporterUI<a class="hash-link" href="#create-myimporterui" title="Direct link to heading">​</a></h3><p>Create a new <code>ImporterUI</code> class, for instance <em>MyImporterUI</em> that implements <a href="http://gephi.org/docs/api/org/gephi/io/importer/spi/ImporterUI.html" target="_blank" rel="noopener noreferrer"><code>ImporterUI</code></a>.</p><p>Your UI class is responsible of providing the JPanel associated to your importer and set settings value to your <em>MyImporter</em> instance. The system will ask for a JPanel, show a setting dialog and then call <code>unsetup()</code>. If users validate the settings panel by hitting OK, the <code>unsetup()</code> method is called with update set as true and ask the UI to write the setting values.
The sample below will help you:</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public class MyImporterUI implements ImporterUI {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   private JPanel panel;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   private JCheckBox option;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   private MyImporter importer;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   public void setup(Importer importer) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     this.importer = (MyImporter)importer;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   public JPanel getPanel() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     panel = new JPanel();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     option = new JCheckBox(&quot;Option&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     panel.add(option);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     return panel;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   public void unsetup(boolean update) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     if(update) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        importer.setOption(option.isSelected());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     panel = null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     importer = null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     option = null;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   public String getDisplayName() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     return &quot;Importer Foo&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   public boolean isUIForImporter(Importer importer) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     return importer instanceof MyImporter;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In the example below, notice the <code>importer.setOption(option.isSelected())</code> line. The <code>setOption()</code> method doesn&#x27;t exist in <em>MyImporter</em> but it shows how to configure it easily.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="register-the-ui">Register the UI<a class="hash-link" href="#register-the-ui" title="Direct link to heading">​</a></h3><p>Add <code>@ServiceProvider</code> annotation to your UI class. Add the following line before <em>MyImporterUI</em> class definition, as shown below:</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@ServiceProvider(service = ImporterUI.class)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class MyImporterUIimplements ImporterUI{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="advices">Advices<a class="hash-link" href="#advices" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-write-a-text-file-importer">How to write a text file importer<a class="hash-link" href="#how-to-write-a-text-file-importer" title="Direct link to heading">​</a></h3><p>The best way for text files is to use a <code>LineNumberReader</code>.
One can get it from the <code>ImportUtils</code> class:</p><p><code>LineNumberReader lineReader = ImportUtils.getTextReader(reader);</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-write-an-xml-file-importer">How to write an XML file importer<a class="hash-link" href="#how-to-write-an-xml-file-importer" title="Direct link to heading">​</a></h3><p>XML files can be read with different methods (DOM, SAX, StAX) in Java.
<a href="http://www.wikiwand.com/en/StAX" target="_blank" rel="noopener noreferrer">StAX</a> is combining simplicity and efficiency and should be favored to read XML files:</p><p><code>XMLStreamReader xmLReader = ImportUtils.getXMLReader(reader);</code></p><p>Thought it is not recommended to use DOM as it&#x27;s too much memory consuming, here is how to get a Document from the reader:</p><p><code>Document document = ImportUtils.getXMLDocument(reader);</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-handle-errors-and-exceptions">How to handle errors and exceptions<a class="hash-link" href="#how-to-handle-errors-and-exceptions" title="Direct link to heading">​</a></h3><p>Warnings and errors are generated by importers to let users get feedback about the import process. Data is rarely clean and perfectly formated, thus it&#x27;s necessary to give a specific error message for each problem. The report present in your importer class is here for that.</p><p>Similar as classical logging framework, that is how to log a information message:</p><p><code>report.logIssue(new Issue(&quot;The attribute label has been found&quot;, Issue.Level.INFO));</code></p><p>There are four levels: <strong>INFO</strong>, <strong>WARNING</strong>, <strong>SEVERE</strong>, <strong>CRITICAL</strong>. Note that the critical level will stop the import process and throw an exception, so it is reserved if the file cannot be read or the XML is not valid for instance.
About exceptions, it is recommended that you throw <code>RuntimeException</code> from your execute method. They will be properly catched and displayed to users in a message box.</p><p><img loading="lazy" src="https://cloud.githubusercontent.com/assets/177962/5606728/a8cd1f40-943c-11e4-87cf-9dc27f21bce2.png" alt="image" class="img_ev3q"></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/04_Plugins/Import.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/gephi-documentation/Plugins/graphstreaming"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">GraphStreaming</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/gephi-documentation/Plugins/layout"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Layout</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#create-a-new-importer" class="table-of-contents__link toc-highlight">Create a new Importer</a><ul><li><a href="#set-dependencies" class="table-of-contents__link toc-highlight">Set Dependencies</a></li><li><a href="#create-fileimporterbuilder" class="table-of-contents__link toc-highlight">Create FileImporterBuilder</a></li><li><a href="#create-fileimporter" class="table-of-contents__link toc-highlight">Create FileImporter</a></li><li><a href="#finish-the-builder" class="table-of-contents__link toc-highlight">Finish the builder</a></li></ul></li><li><a href="#with-settings-ui" class="table-of-contents__link toc-highlight">With settings UI</a><ul><li><a href="#create-myimporterui" class="table-of-contents__link toc-highlight">Create MyImporterUI</a></li><li><a href="#register-the-ui" class="table-of-contents__link toc-highlight">Register the UI</a></li></ul></li><li><a href="#advices" class="table-of-contents__link toc-highlight">Advices</a><ul><li><a href="#how-to-write-a-text-file-importer" class="table-of-contents__link toc-highlight">How to write a text file importer</a></li><li><a href="#how-to-write-an-xml-file-importer" class="table-of-contents__link toc-highlight">How to write an XML file importer</a></li><li><a href="#how-to-handle-errors-and-exceptions" class="table-of-contents__link toc-highlight">How to handle errors and exceptions</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/gephi-documentation/Intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.facebook.com/groups/gephi" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/gephi" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://gephi.wordpress.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li><li class="footer__item"><a href="https://github.com/gephi/gephi" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Gephi. Built with Docusaurus.</div></div></div></footer></div>
<script src="/gephi-documentation/assets/js/runtime~main.aab9cabc.js"></script>
<script src="/gephi-documentation/assets/js/main.b8e38b07.js"></script>
</body>
</html>