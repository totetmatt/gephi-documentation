"use strict";(self.webpackChunkgephi_documentation=self.webpackChunkgephi_documentation||[]).push([[7778],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>c});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),u=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},d=function(e){var t=u(e.components);return a.createElement(s.Provider,{value:t},e.children)},h={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),p=u(n),c=i,m=p["".concat(s,".").concat(c)]||p[c]||h[c]||o;return n?a.createElement(m,r(r({ref:t},d),{},{components:n})):a.createElement(m,r({ref:t},d))}));function c(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,r=new Array(o);r[0]=p;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,r[1]=l;for(var u=2;u<o;u++)r[u]=n[u];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},5654:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>l,toc:()=>u});var a=n(7462),i=(n(7294),n(3905));const o={id:"code-sharing-strategy",title:"Code Sharing Strategy"},r=void 0,l={unversionedId:"Plugins/code-sharing-strategy",id:"Plugins/code-sharing-strategy",title:"Code Sharing Strategy",description:"Code sharing",source:"@site/docs/04_Plugins/Code-Sharing-Strategy.md",sourceDirName:"04_Plugins",slug:"/Plugins/code-sharing-strategy",permalink:"/gephi-documentation/Plugins/code-sharing-strategy",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/04_Plugins/Code-Sharing-Strategy.md",tags:[],version:"current",frontMatter:{id:"code-sharing-strategy",title:"Code Sharing Strategy"},sidebar:"tutorialSidebar",previous:{title:"Build a plugin without Gephi source code",permalink:"/gephi-documentation/Plugins/build-a-plugin-without-gephi-source-code"},next:{title:"De\u0301marrage rapide (FR)",permalink:"/gephi-documentation/Plugins/de\u0301marrage-rapide-(fr)"}},s={},u=[{value:"Code sharing",id:"code-sharing",level:2},{value:"Using libraries",id:"using-libraries",level:3},{value:"Code formatting",id:"code-formatting",level:3},{value:"License",id:"license",level:3},{value:"Javadoc",id:"javadoc",level:3},{value:"Module name convention",id:"module-name-convention",level:3},{value:"Codebase convention",id:"codebase-convention",level:3},{value:"Module branding",id:"module-branding",level:3},{value:"Distributed development",id:"distributed-development",level:2},{value:"Get started",id:"get-started",level:3},{value:"Git at Gephi",id:"git-at-gephi",level:3},{value:"Before commit",id:"before-commit",level:3},{value:"Merging branches",id:"merging-branches",level:3},{value:"Hot fixes",id:"hot-fixes",level:3},{value:"Auto-Update",id:"auto-update",level:3}],d={toc:u};function h(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"code-sharing"},"Code sharing"),(0,i.kt)("p",null,"Some basic rules how we code in Gephi and how we use Netbeans:"),(0,i.kt)("h3",{id:"using-libraries"},"Using libraries"),(0,i.kt)("p",null,"If you use libraries, wrap them into one or several modules. Further information here: ",(0,i.kt)("a",{parentName:"p",href:"http://wiki.netbeans.org/DevFaqWrapperModules"},"http://wiki.netbeans.org/DevFaqWrapperModules")),(0,i.kt)("p",null,"The module codebase should be ",(0,i.kt)("strong",{parentName:"p"},"org.gephi.lib.NAME"),"."),(0,i.kt)("p",null,"Please send email to DEV mailing-list about that change and include it in the ChangeLog, not to forgot to update the ",(0,i.kt)("a",{parentName:"p",href:"http://gephi.org/developers/license/"},"license page")," on the website."),(0,i.kt)("h3",{id:"code-formatting"},"Code formatting"),(0,i.kt)("p",null,"Always format all the code you submit. Use the Netbeans format feature (right click > Format) with default parameters."),(0,i.kt)("h3",{id:"license"},"License"),(0,i.kt)("p",null,"This is the Gephi offical license. "),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},' Copyright 2008-2012 Gephi\n Authors : YOUR NAME <yourname@domain.org>\n Website : http://www.gephi.org\n \n This file is part of Gephi.\n \n DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.\n \n Copyright 2012 Gephi Consortium. All rights reserved.\n \n The contents of this file are subject to the terms of either the GNU\n General Public License Version 3 only ("GPL") or the Common\n Development and Distribution License("CDDL") (collectively, the\n "License"). You may not use this file except in compliance with the\n License. You can obtain a copy of the License at\n http://gephi.org/about/legal/license-notice/\n or /cddl-1.0.txt and /gpl-3.0.txt. See the License for the\n specific language governing permissions and limitations under the\n License.  When distributing the software, include this License Header\n Notice in each file and include the License files at\n /cddl-1.0.txt and /gpl-3.0.txt. If applicable, add the following below the\n License Header, with the fields enclosed by brackets [] replaced by\n your own identifying information:\n "Portions Copyrighted [year] [name of copyright owner]"\n \n If you wish your version of this file to be governed by only the CDDL\n or only the GPL Version 3, indicate your decision by adding\n "[Contributor] elects to include this software in this distribution\n under the [CDDL or GPL Version 3] license." If you do not indicate a\n single choice of license, a recipient has the option to distribute\n your version of this file under either the CDDL, the GPL Version 3 or\n to extend the choice of license to its licensees as provided above.\n However, if you add GPL Version 3 code and therefore, elected the GPL\n Version 3 license, then the option applies only if the new code is\n made subject to such option by the copyright holder.\n \n Contributor(s):\n \n Portions Copyrighted 2011 Gephi Consortium.\n')),(0,i.kt)("p",null,"Please put your name on the top of the license at 'YOUR_NAME' and put this license in all files you own."),(0,i.kt)("p",null,"You can directly include license texts in Netbeans using Tools>Templates."),(0,i.kt)("h3",{id:"javadoc"},"Javadoc"),(0,i.kt)("p",null,"All open APIs (public interfaces) should have a complete Javadoc. This is important but commit to it only when you estimate a module is finished.\nIn the mean time, be sure your real name appears completely in all classes you own. This is the minimum thing you should add. As for license, it can be done with Netbeans."),(0,i.kt)("p",null,"It is recommended to read the Javadoc ",(0,i.kt)("a",{parentName:"p",href:"http://www.oracle.com/technetwork/java/javase/documentation/index-137868.html"},"Good practices"),". It gives guidance and rules to make good Javadoc."),(0,i.kt)("h3",{id:"module-name-convention"},"Module name convention"),(0,i.kt)("p",null,"Please respect new modules naming convention:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"No whitespace"),(0,i.kt)("li",{parentName:"ul"},"Add Wrapper in case of a library wrapper")),(0,i.kt)("h3",{id:"codebase-convention"},"Codebase convention"),(0,i.kt)("p",null,"New modules should follow the following codebase rules:"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"First Header"),(0,i.kt)("th",{parentName:"tr",align:null},"Second Header"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"API"),(0,i.kt)("td",{parentName:"tr",align:null},"org.gephi.NAME.api")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"API Implementation"),(0,i.kt)("td",{parentName:"tr",align:null},"org.gephi.NAME")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"SPI"),(0,i.kt)("td",{parentName:"tr",align:null},"org.gephi.NAME.spi")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"SPI Implementation"),(0,i.kt)("td",{parentName:"tr",align:null},"org.gephi.NAME.plugin")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"SPI Implementation UI"),(0,i.kt)("td",{parentName:"tr",align:null},"org.gephi.ui.NAME.plugin")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Desktop UI"),(0,i.kt)("td",{parentName:"tr",align:null},"org.gephi.desktop.NAME")))),(0,i.kt)("h3",{id:"module-branding"},"Module branding"),(0,i.kt)("p",null,"Branding options for Netbeans modules. Set it from module Properties > Display."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Display name can have whitespace"),(0,i.kt)("li",{parentName:"ul"},"Display Category:",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Gephi Core")," for all ",(0,i.kt)("strong",{parentName:"li"},"API")," and ",(0,i.kt)("strong",{parentName:"li"},"Impl")," modules"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Plugin")," for all ",(0,i.kt)("strong",{parentName:"li"},"Plugin")," and ",(0,i.kt)("strong",{parentName:"li"},"PluginUI")," modules"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Libraries")," for all libs"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Gephi UI")," for all ",(0,i.kt)("strong",{parentName:"li"},"Desktop")," modules")))),(0,i.kt)("p",null,"And don't forget to set the license and author in the Build > Packaging settings."),(0,i.kt)("p",null,"License should be ",(0,i.kt)("strong",{parentName:"p"},"../gpl-3.0.txt")," and Author ",(0,i.kt)("strong",{parentName:"p"},"Gephi.org")),(0,i.kt)("h2",{id:"distributed-development"},"Distributed development"),(0,i.kt)("h3",{id:"get-started"},"Get started"),(0,i.kt)("p",null,"Follow these links to get started with the development environment:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"[","[Developer Handbook]","]"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/gephi/gephi/issues"},"Issues on Github"))),(0,i.kt)("h3",{id:"git-at-gephi"},"Git at Gephi"),(0,i.kt)("p",null,"There is a master branch on the Gephi repository which we call the trunk. This is the main branch where all the daily work happen."),(0,i.kt)("p",null,"When we are releasing a major version we create a release branche (ex: 0.8) from master. These branches shouldn't get new features, only bug fixes. After the version is released, bugs that don't require to break compatibility of make significant changes (add/removed modules etc) should be developed in this branch and released as hot fixes."),(0,i.kt)("p",null,"We like to always have the master branch working and developers should always make sure the code builds before commit. "),(0,i.kt)("h3",{id:"before-commit"},"Before commit"),(0,i.kt)("p",null,"'''Some simple steps to make sure it's done right:'''"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Run ",(0,i.kt)("code",null,"git status")," to see what's going on. "),(0,i.kt)("li",{parentName:"ul"},"Run ",(0,i.kt)("code",null,"git pull upstream BRANCH")," to get latest updates from GitHub."),(0,i.kt)("li",{parentName:"ul"},"Run ",(0,i.kt)("code",null,"git add ...")," on the files you want to commit. If you removed some files run ",(0,i.kt)("code",null,"git rm ..."),". This step is called 'staging' and add stuff to your commit."),(0,i.kt)("li",{parentName:"ul"},"Run ",(0,i.kt)("code",null,"git status")," again. That lists the files you modified and are part of your next commit."),(0,i.kt)("li",{parentName:"ul"},"Make sure you didn't forget any essential file."),(0,i.kt)("li",{parentName:"ul"},"Run ",(0,i.kt)("code",null,'git commit -m "message"')," with a message with enough information for a fellow to understand.")),(0,i.kt)("p",null,"If you 'staged' something you didn't ant to stage run ",(0,i.kt)("code",null,"git reset FILES"),". If you want to reset a file changes run ",(0,i.kt)("code",null,"git checkout FILE"),". This will revert any changes you made to that files."),(0,i.kt)("p",null,"'''Some things not to do:'''"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Don't add anything to the .gitignore file unless you've been told to."),(0,i.kt)("li",{parentName:"ul"},"Don't commit changes in modules you are not working on. It happens that Netbeans will override some random xml or properties file. Don't commit those and revert them use 'git checkout'."),(0,i.kt)("li",{parentName:"ul"},"If you encounter a conflict and you're not sure how to fix it, don't try random things. Ask we can help :-)")),(0,i.kt)("p",null,"Command line is fine for Git but you can also use ",(0,i.kt)("a",{parentName:"p",href:"https://code.google.com/p/tortoisegit/"},"TortoiseGit")," on Windows or ","[http://gitx.frim.nl/ GitX]"," if you're on Mac. A Netbeans Git module exists but is still in beta, so you should avoid using it."),(0,i.kt)("h3",{id:"merging-branches"},"Merging branches"),(0,i.kt)("p",null,"The master branch contains the trunk and all work happens there. When all developers work on separate modules it's relatively easy to manage and it's convenient to all work on the same code. However it gets complicated really fast when developers work on APIs, rewrite modules or refactor code. Therefore, for any significant work developers should create feature branches. This is typically the case for Google Summer of Code projects or large code changes. "),(0,i.kt)("p",null,"To create a new branch:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Make sure you're on the master branch by running ",(0,i.kt)("code",null,"git branch")),(0,i.kt)("li",{parentName:"ul"},"Run ",(0,i.kt)("code",null,"git branch NAME")," to create the branch. Run ",(0,i.kt)("code",null,"git branch"),". Your new branch should appear."),(0,i.kt)("li",{parentName:"ul"},"Run ",(0,i.kt)("code",null,"git checkout NAME")," to go to your branch"),(0,i.kt)("li",{parentName:"ul"},"Run ",(0,i.kt)("code",null,"git push origin NAME")," to push it to GitHub")),(0,i.kt)("p",null,"Features branches typically need to merge the master branch time to time to get up to date with core developments. To merge the master branch:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Make sure you're on your feature branch by running ",(0,i.kt)("code",null,"git branch"),". If not, run ",(0,i.kt)("code",null,"git checkout BRANCH")),(0,i.kt)("li",{parentName:"ul"},"Run ",(0,i.kt)("code",null,"git pull upstream master"),". That will pull and merge the master branch.")),(0,i.kt)("p",null,"The merge will fail if some of the files Git want to merge have uncommited changes. IF that happens, commit your changes and in most cases Git will do the merge automatically."),(0,i.kt)("p",null,"The master branch merges hotfixes in release branches when done."),(0,i.kt)("h3",{id:"hot-fixes"},"Hot fixes"),(0,i.kt)("p",null,"Gephi is distributed through a installation package but also online as NBM packages. Thanks to Netbeans Platform, Gephi has the capability to update itself using the NBMs packages we store on our server. We call this the 'Update Center' and it is the same system we use to distribute third party plug-ins. It works like this. There is a XML files with all modules and version on our server and Gephi can read that files and compare online versions with it's local versions. If some modules have been updated the user is asked to update."),(0,i.kt)("p",null,"This capability allows us to deploy hot fixes. When a bug is fixed and the version of the module is incremented the NBM file of the module is created and uploaded to our server. This is process is manual at the moment but it just takes a few minutes. We have done it many times to deliver bug fixes as soon as they are ready without waiting for a release."),(0,i.kt)("p",null,"All bugs for hot fixes should be developed in release branches. For instance, if the latest stable release is 0.8 and we want to fix an issue and release it as hotfix the bug should be fixed in the 0.8 branch. The branch should be then merged to master to make sure the fix is in trunk as well."),(0,i.kt)("h3",{id:"auto-update"},"Auto-Update"),(0,i.kt)("p",null,'Thanks to Netbeans Platform, Gephi has an auto-update feature. Update is done according to the "Specification version" for each module. Therefore, if you made a change that will be deployed through auto-update, increment the ',(0,i.kt)("strong",{parentName:"p"},"Specification Version")," of all modules you touched."))}h.isMDXComponent=!0}}]);